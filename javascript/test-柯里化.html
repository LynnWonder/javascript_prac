<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Examples</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
</head>
<body>
    <script type="text/javascript">
    	var addEvent=function(el,type,fn,capture){
    		if (window.addEventListener) {
    			el.addEventListener(type,function(e){
    				fn.call(el,e);
    			},capture);
    		}else if (window.attachEvent) {
    			el.attachEvent("on"+type,function(e){
    				fn.call(el,e);
    			})
    		}
    	}

    	var addEvent=(function(){
    		if (window.addEventListener) {
    			return function(el,type,fn,capture){
	    			el.addEventListener(type,function(e){
	    				fn.call(el,e);
	    			},capture);    				
    			}
    		}else if (window.addEvent) {
    			return function(el,type,fn,capture){
	    			el.attachEvent("on"+type,function(e){
	    				fn.call(el,e);
	    			})    				
    			}
    		}
    	})();





    	//防抖
var debounce = function(fn, delay, isImmediate) {
    //使用闭包，保存执行状态，控制函数调用顺序
    var timer;
    return function() {
        var _args = [].slice.call(arguments),
            context = this;
        clearTimeout(timer);
    
        var _fn = function() {
            timer = null;
            if (!isImmediate) fn.apply(context, _args);
        };

        //是否滚动时立刻执行
        var callNow = !timer && isImmediate;

        timer = setTimeout(_fn, delay);

        if(callNow) fn.apply(context, _args);
    }
}
    </script>
</body>
</html>