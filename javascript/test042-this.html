<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Examples</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
</head>
<body>
<script type="text/javascript">
	// var x=12;
	// var obj={
	// 	x:0,
	// 	say:function(){
	// 		console.log(this.x);
	// 	}
	// };
	// obj.say();//被直接对象所包含的函数调用即方法调用时指向当前对象
	// // setTimeout(obj.say,1000);//隐性丢失。此时this指向了window
	// // setTimeout(function(){//解决隐性丢失问题方法1
	// // 	obj.say();
	// // },1000);
	// // setTimeout(obj.say.bind(obj),1000);//解决隐性丢失方法2
	// Function.prototype.mybind=function(params){
	// 	var self=this;
	// 	var args=Array.prototype.slice.call(arguments,1);//拿到预置参数params中除第一个参数以外的所有参数列表
	// 	return function(){
	// 		////绑定this同时将调用时传递的序列和预置序列进行合并
	// 		self.apply(params,args.concat(Array.prototype.slice.call(arguments)));
	// 	}
	// }
	// setTimeout(obj.say.mybind(obj),1000);//解决隐性丢失方法2




	// var foo="test";
	// var myObject={
	// 	foo:"bar",
	// 	func:function(){
	// 		var self=this;
	// 		console.log(this.foo);
	// 		console.log(self.foo);
	// 		(function(){
	// 			console.log(this.foo);
	// 			console.log(self.foo);
	// 		})();
	// 	}
	// }
	// 	myObject.func();//bar bar undefined bar
	// 	//调用被直接对象包含的函数时，this指向当前对象；立即执行函数 this指向window;闭包中的this也指向window






	// var length = 10;
	// function fn() {
	//     console.log(this.length);
	// }
	 
	// var obj = {
	//   length: 5,
	//   method: function(fn) {
	//     fn();
	//     arguments[0]();
	//   }
	// };
 
	// obj.method(fn, 1);//输出是什么？10 2
	// //然后别忘了全局函数fn同时也属于arguments数组中的一员，即当作为arguments成员之一调用的时候，其作用域就绑定到了arguments上，this也就是指向了arguments对象，所以arguments[0]()这段代码调用了身为成员的fn()函数，this.length就等于是arguments.length，又因为method传入的参数为2个，所以最后输出2。





	function a(xx){
		this.x=xx;
		console.log(x);
		return this;
	}
	var x=a(5);
	var y=a(6);
	console.log(x);
	console.log(x.x);
	console.log(y.x);
	//5 6 6 undefined 6
	// 执行a(5)时 给window添加x为5 输出5
	//返回window x此时为5 又初始化x为 window对象 执行 a(6) 此时x为6 打印6
	//返回window x此时为6 y初始化为window 打印x为6 但是x没有x属性 undefined
	//y为window y.x是6
</script>
    
</body>
</html>