<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    /**
     * 主体思路应该是从低点买入，然后在最高点卖出，不断重复这种过程
     * @param arr
     */
    const maxProfit=arr=>{
        let res=0;
        for(let i=0;i<arr.length-1;i++){
            for (let j=i+1;j<arr.length;j++){
                if (arr[j]>arr[i]){
                    res+=arr[j]-arr[i];
                    i=j;
                }else{
                    i=j;
                    i--;
                    break;
                }
            }
        }
        return res;
    };
    /**
     * 只进行一次交易的版本
     * @param arr
     */
    var maxProfit0 = function(arr) {
        if (arr.length<=1) return 0;
        let res0=[];
        for(let i=0;i<arr.length-1;i++){
            let res=0;
            let min=arr[i];
            for (let j=i+1;j<arr.length;j++){
                if (arr[j]>min){
                    res=arr[j]-arr[i];
                    min=arr[j];
                }
            }
            res0.push(res);
        }
        console.info(res0);
        return Math.max.apply(null,res0);
    };
    const maxProfit1=arr=>{
        let res=0;
        let len=arr.length;
        let min=Infinity;
        for(let i=0;i<len;i++){
            min=Math.min(min,arr[i]);
            res=Math.max(res,arr[i]-min);
        }
        return res;
    }
    let arr0=[7,1,5,3,6,4];
    let arr1=[1,2,3,4,5];
    let arr2=[6,4,3,1];
    let arr3=[2,1,4];
    let arr4=[3,2,6,5,0,3];
    // console.info(maxProfit(arr0));
    // console.info(maxProfit(arr1));
    // console.info(maxProfit(arr2));
    console.info(maxProfit0(arr0));
    console.info(maxProfit0(arr3));
    console.info(maxProfit0(arr4));
</script>
</body>
</html>