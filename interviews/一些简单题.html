<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>输出0-9</title>
</head>
<body>
<script>
    /**
     * 实现输入0-9
     * 没什么难度
     */
    function closure(){
        for (var i = 0; i< 10; i++){
            setTimeout(() => { console.log(i); }, 1000)
        }
    }
    function closure1(){
        for (let i = 0; i< 10; i++){
            setTimeout(() => { console.log(i); }, 1000)
        }
    }
    function closure2(){
        for (var i=0;i<10;i++){
            (
                function(m){
                    setTimeout(()=>{
                        console.info(m);
                    },1000);
                }
            )(i)
        }
    }
    // closure2();
    var arr = [ [1, 2, 2], [3, 4, 5, 5], [6, 7, 8, 9, [11, 12, [12, 13, [14] ] ] ], 10];
    // 编写一个程序将数组扁平化去并除其中重复部分数据，最终得到一个升序且不重复的数组
    let singleFlat=(arr)=>{
        let res=[...new Set(arr.flat(Infinity))];
        return res.sort((a,b)=>a-b);
    };
    console.info(singleFlat(arr));
    /**
     * 接下来写一个复杂点的实现
     */
    const flat=arr=>{
        let res=[];
        arr.forEach(item=>{
            if (Array.isArray(item)){
                res=res.concat(flat(item));
            }else {
                res=res.concat([item]);
            }
        });
        return res;
    };
    const single=arr=>{
        let obj={};
        let res=[];
        arr.forEach(item=>{
            if (!obj[item]){
                res.push(item);
                obj[item]=1;
            }
        });
        return res;
    };
    const single1=arr=>{
        arr.sort((a,b)=>a-b);
        let res=[];
        res.push(arr[0]);
        for (let i=1;i<arr.length;i++){
            if (res[res.length-1]!==arr[i]){
                res.push(arr[i]);
            }
        }
        return res;
    };
    console.info(single1(flat(arr)));
</script>
</body>
</html>