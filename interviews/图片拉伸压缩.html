<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>图片拉伸压缩</title>
</head>
<body>
<script>
    /**
     * 给定一个容器，使得图片在容器中垂直+水平居中。假设容器的position:relative; 图片的 position:absolute;。给出scanImage方法的实现，返回图片左上角的坐标和图片计算后的宽高。要求
     1、返回的图片宽高不能大于图片的原始宽高；
     2、要求图片最大程度在容器中完整的展现
     * @param pw
     * @param ph
     * @param iw
     * @param ih
     */
    // 我真的求求自己不要再犯傻逼错误 fuck brain
    // 如下所示 进入了死循环
    /**
     * 现在想一下思路出现了问题，不应该是先让超出比例小的进行缩放，应该让超出比例大的缩放，而一开始的想法也是南辕北辙
     * 最终根本没必要使用循环来操作
     * @param pw
     * @param ph
     * @param iw
     * @param ih
     */
    function scanImage(pw, ph, iw, ih) {
        let width=iw,height=ih,top,left;
        // while(width>pw||height>ph)
        // {
        //     //console.info('1',width,height);
        //     if (height>=ph&&width/pw>=height/ph){
        //         console.info('1==>',width,height);
        //         height=ph;
        //         width=iw*height/ih;
        //     }
        //     // 陷入死循环的做法
        //     // if (width>=pw&&height/ph>=width/pw){
        //     //     console.info('2==>',width,height);
        //     //     width=pw;
        //     //     height=ih*width/iw;
        //     // }
        //     if (width>pw){
        //         // console.info('2==>',width,height);
        //         width=pw;
        //         height=ih*width/iw;
        //     }
        //     // 常规解法
        //     // if(height>=ph){
        //     //     height=ph;
        //     //     width=iw*height/ih;
        //     //     //console.info(width);
        //     // }
        //     // if(width>=pw){
        //     //     width=pw;
        //     //     height=ih*width/iw;
        //     //     // pw*ih/iw;
        //     // }
        // }
        if(width>=pw){
            width=pw;
            height=ih*width/iw;
            // pw*ih/iw;
        }
        if(height>=ph){
            height=ph;
            width=iw*height/ih;
            //console.info(width);
        }
        top=pw/2-width/2;
        left=ph/2-height/2;
        console.info( top, left, width, height);
    }

    scanImage(200, 200, 300, 400);
    scanImage(200,200,300,500);
    scanImage(200, 200, 100, 50);
</script>
</body>
</html>