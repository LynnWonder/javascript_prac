<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Examples</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
</head>
<body>
<script type="text/javascript">
    //单例：一个类有且只有一个实例
    	//简单单例模式
    	function construct(){
    		if(construct.uniq!==undefined){
    			return construct.uniq
    		}
    		this.name="jack";
    		this.age=20;
    		construct.uniq=this;
            return construct.uniq
    	}
    	var t1=new construct();
    	var t2=new construct();
    	console.log(t1===t2);
            var single=function(){
                return {
                    count:10
                }
            }
        var mysingle=function(fn){
            var instance;
            // function single(){
            //     return {
            //         count:10
            //     }
            // }
           
            return function(){
                // if(!instance){
                //     instance=single();
                // }
                // return instance;
                 console.log(instance)
                return instance?instance:fn.apply(this,arguments);
            }
        }
        var xx=mysingle(single);
         xx();
         xx();
        // console.log(mysingle(single).count);//惰性单例模式 延迟创建实例
        // console.log(mysingle(single).count);
    	//简单工厂模式
    	function fac(){
    		var obj=new Object();
    		obj.name="jack";
    		obj.age=20;
    		return obj;
    	}
    	var t3=fac();
    	var t4=fac();
    	// console.log(t3===t4);
       

    </script> 
</body>
</html>